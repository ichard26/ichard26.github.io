<!doctype html><html lang=en-ca dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>What's new in pip 25.0 | Richard Si</title>
<meta name=keywords content="pip,release"><meta name=description content="pip 25.0 adds support for SPDX License Expressions (PEP 639), build environment bugfixes, and further optimizations among other changes."><meta name=author content><link rel=canonical href=https://ichard26.github.io/blog/2025/01/whats-new-in-pip-25.0/><link crossorigin=anonymous href=/assets/css/stylesheet.2693a403f5986ba233be02cd316c658d98624f928efcdb14e99e8064cdd03997.css integrity="sha256-JpOkA/WYa6IzvgLNMWxljZhiT5KO/NsU6Z6AZM3QOZc=" rel="preload stylesheet" as=style><link rel=icon href=https://ichard26.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ichard26.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ichard26.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ichard26.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ichard26.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en-ca href=https://ichard26.github.io/blog/2025/01/whats-new-in-pip-25.0/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer data-domain=ichard26.github.io src=https://webstats.internal.floralily.dev/js/script.outbound-links.js></script><meta name=google-site-verification content="4PNzC3Db8jI_wn9D8lPdAh4B0skrLZHNbQBgVF1XtAo"><meta property="og:url" content="https://ichard26.github.io/blog/2025/01/whats-new-in-pip-25.0/"><meta property="og:site_name" content="Richard Si"><meta property="og:title" content="What's new in pip 25.0"><meta property="og:description" content="pip 25.0 adds support for SPDX License Expressions (PEP 639), build environment bugfixes, and further optimizations among other changes."><meta property="og:locale" content="en-ca"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-01-31T00:00:00-05:00"><meta property="article:tag" content="Pip"><meta property="article:tag" content="Release"><meta name=twitter:card content="summary"><meta name=twitter:title content="What's new in pip 25.0"><meta name=twitter:description content="pip 25.0 adds support for SPDX License Expressions (PEP 639), build environment bugfixes, and further optimizations among other changes."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog","item":"https://ichard26.github.io/blog/"},{"@type":"ListItem","position":2,"name":"What's new in pip 25.0","item":"https://ichard26.github.io/blog/2025/01/whats-new-in-pip-25.0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"What's new in pip 25.0","name":"What\u0027s new in pip 25.0","description":"pip 25.0 adds support for SPDX License Expressions (PEP 639), build environment bugfixes, and further optimizations among other changes.","keywords":["pip","release"],"articleBody":"On January 26, 2025, the pip team released pip 25.0.\nBefore delving into the key changes, I’d like to mention that the pip project has two new maintainers: Damian Shaw and Richard Si (that’s me!). I want to thank the pip core team for entrusting me with the commit bit on such a foundational project like pip.\nAlso, this is the first release cut from a GitHub Actions CI/CD workflow that implements Trusted Publishing and bundles PEP 740 digital attestations.\nAs always, please read the changelog for the full list of changes.\nKey features PEP 639: SPDX License Expressions About 5 months ago, PEP 639 – Improving License Clarity with Better Package Metadata was approved.\nIt added the License-Expression core metadata field, which is mandated to contain a valid SPDX expression. In addition, there is now a multi-use License-File field so packages can declare the path to their licensing-related files.\nWarning The old free-form License field and license classifiers are deprecated, although there are no current plans to remove them from the metadata specification.\nIt took a few months, but it is now generally supported by build backends, publishing tools, and PyPI. With this release, pip show will display the License-Expression over the License field when available.1\n$ pip install prettytable==3.13.0 $ pip show prettytable Name: prettytable Version: 3.13.0 Summary: A simple Python library for easily displaying tabular data in a visually appealing ASCII table format Home-page: https://github.com/prettytable/prettytable Author: Author-email: Luke Maurits License-Expression: BSD-3-Clause Location: /home/ichard26/.local/lib/python3.12/site-packages Requires: wcwidth Required-by: Furthermore, the License-Expression and License-File fields are included in the JSON report emitted by pip install --report and pip inspect.\nThank you Philippe Ombredanne, C.A.M. Gerlach, and Karolina Surma for authoring the PEP! Doubly so to Karolina who drove the PEP to completion and contributed part of pip’s implementation.\nNetwork cache inherits permissions from root cache directory It’s easiest to explain this change by quoting the original issue:\nOn a shared Linux system, we want to share pip’s cache between multiple users, so packages are not downloaded 50 times when 50 users install the same package.\nProblem is that pip would set the permissions for network cache entries so that the user running pip is the sole user able to access them. This wasn’t intentional, but a byproduct of tempfile.NamedTemporaryFile.\nNow, pip will update the entries’ permissions to inherit the read/write permissions set on the root cache directory. Thus, if the root cache directory is accessible by other users, those users will be able to use any entries added later.2 Thank you to Justin van Heek for contributing this improvement!\nKey bugfixes First off, here’s a rapid-fire list of smaller, but still noteworthy bugfixes:\nFix a security bug allowing a specially crafted wheel to execute code during installation.\nYou should read this issue for all of the details, but essentially, a deferred import of pip’s self check could be abused to run arbitrary code at the end of the same pip install. Reported and fixed by Caleb Brown.\nThe inclusion of packaging 24.2 changes how pre-release specifiers with \u003c and \u003e behave.\nIncluding a pre-release version with these specifiers now implies accepting pre-releases (e.g., \u003c2.0dev can include 1.0rc1). To avoid implying pre-releases, avoid specifying them (e.g., use \u003c2.0). The exception is !=, which never implies pre-releases.\nCertificate and proxy options are used for build dependencies When pip needs to build a project for installation or metadata3, pip by default sets up an isolated environment to install the build backend and its dependencies in. These build dependencies are installed by calling pip recursively in a subprocess.\nUnfortunately, the --cert, --client-cert, and --proxy options were not passed down to the pip subprocesses. However, --index always4 has been, resulting in the common problem where pip tries to install build dependencies from a private index that uses a custom certificate… that it can’t verify.\nBefore pip 25.0, the workaround was to use environment variables (e.g., PIP_CERT) as those are passed down to the subprocess by the OS. This is no longer necessary.\nThe --proxy patch was authored in part by Luis Carlos. Thanks!\nTruststore regression While fixing this, truststore was inadvertently disabled while installing build dependencies. Truststore enables system CAs to work without any configuration. This will be fixed in an upcoming pip 25.0.1 bugfix release.\n“that seems silly!” Admittedly, the whole “pip calling itself” logic is not ideal. There is a performance penalty to starting a new pip process, numerous bugs, unexpected behaviour caused by forgetting to pass enough state (i.e. pip flags), and the error reporting is abysmal.\nWe would like to pay down the debt that has accumulated here, but installing build dependencies in-process is likely to require substantial refactoring as the codebase was not designed w/ repeated resolve-download-install cycles in mind.\nFaster package candidate collection When pip initially fetches the list of distributions available for each package, it needs to parse the HTML or JSON returned by the index and filter out the distributions that obviously aren’t supported by the current platform.\nThis release eliminated redundant URL parsing and similar processing, especially for indices which serve absolute URLs to their distribution files (e.g., PyPI). Furthermore, requires-python checks are cached.\nThe URL processing and requires-python checks are fast individually, but they add up once you start to use packages with hundreds of releases and thousands of distributions. A good example is setuptools. It has ~1500 different distributions that could be eligible for installation, leading to a fair bit of overhead:\npip install setuptools --dry-run pip 24.3.1 pip 25.0 Index page parsing 90ms 45ms Candidate evaluation 130ms 30ms Obviously the network overhead usually dominates in practice, but this is still a good improvement! And since setuptools is a common backend, this makes the build environment setup phase of installing from source just a bit faster for many projects. 🏎️\nUpcoming removals Finally, here is a list of deprecations currently scheduled for removal in pip 25.1 (Q2 2025). As always, this schedule is subject to change. Any given removal may be pushed to a future release as needed.\nLegacy (setup.py) editable installs Deprecated since pip 24.2 I’ve already said enough on this deprecation, so I’m going to simply ask that you read the deprecation issue for information and advice. This was originally scheduled for removal in 25.0, but it got pushed back as the removal wasn’t finished in time. Legacy installed .egg distributions Deprecated since pip 23.2 (#12330) On Python 3.11 or later, support for detecting and uninstalling installed .egg distributions is deprecated. Eggs are the legacy format used to record installed distributions. It has been long since replaced by .dist-info. Today, they’re most often the product of using setup.py install. The recommended solution is to reinstall the distribution using a recent pip. FWIW, this removal has been pushed back several times. Non-bare project name in egg fragment Deprecated since pip 23.0 (#13157) If you’re ever seen #egg=mypkg at the end of an URL requirement, that’s called an egg fragment. It’s the old syntax used to tell pip what project the URL is for. They’ve been largely replaced by the standardized Direct URLs references. When egg fragments were initially added, they were meant to only contain the project name. You can technically put a version specifier in the fragment, but pip won’t respect it. To avoid confusion, anything but a bare project name is deprecated. However, the removal is blocked on adding support for requesting extras via the Direct URL syntax for VCS references. Non-standard wheel filenames Deprecated since pip 24.3 (#12938) For historical reasons, pip does its own parsing of wheel filenames. We’d like to replace this with the reference parser in packaging. The side-effect is that wheels that violate the wheel filename specification are now rejected. Unless you use old packaging tooling or play shenanigans with your project name or wheel filenames, you shouldn’t be affected. -​-no-python-version-warning Deprecated since pip 25.0 (#13154) The flag has long done nothing since Python 2 support was removed in pip 21.0. pip has also never warned about deprecations of any other Python version as the flag’s help suggests. As long as the package’s metadata version is 2.4 or higher. There was a bit of a kerfuffle as PEP 639 was implemented by certain backends before being accepted, thus they generated distributions without metadata 2.4 declared (because it didn’t exist before approval). This is technically invalid, and pip wishes to enforce specification compliance. ↩︎\nOf course, this doesn’t help with old cache entries with the overly restrictive permissions. Plus, everyone must be using pip 25.0 or else there will be a mix of entries with the right and overly restrictive permissions, rendering the shared cache useless. ↩︎\nFor example, during dependency resolution, pip may need to build metadata so it knows what requirements mypkg needs. Building a wheel and inspecting its metadata is a valid approach, but PEP 517 allows pip to ask a backend for only metadata. ↩︎\nMaybe not always, but definitely for a long time. ↩︎\n","wordCount":"1489","inLanguage":"en-ca","datePublished":"2025-01-31T00:00:00-05:00","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://ichard26.github.io/blog/2025/01/whats-new-in-pip-25.0/"},"publisher":{"@type":"Person","name":"Richard Si","logo":{"@type":"ImageObject","url":"https://ichard26.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ichard26.github.io/ accesskey=h title="Richard Si (Alt + H)">Richard Si</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ichard26.github.io/about/ title=About><span>about</span></a></li><li><a href=https://ichard26.github.io/blog/ title=Writing><span>writing</span></a></li><li><a href=https://ichard26.github.io/privacy/ title="Privacy Statement"><span>privacy</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">What's new in pip 25.0</h1><div class=post-description>pip 25.0 adds support for SPDX License Expressions (PEP 639), build environment bugfixes, and further optimizations among other changes.</div><div class=post-meta><span class=post-date title='Posted on 2025-01-31 00:00:00 -0500 EST'>January 31, 2025</span><span class=delimiter>&nbsp;·&nbsp;</span>7 minutes</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#key-features aria-label="Key features">Key features</a><ul><li><a href=#pep-639-spdx-license-expressions aria-label="PEP 639: SPDX License Expressions">PEP 639: SPDX License Expressions</a></li><li><a href=#network-cache-inherits-permissions-from-root-cache-directory aria-label="Network cache inherits permissions from root cache directory">Network cache inherits permissions from root cache directory</a></li></ul></li><li><a href=#key-bugfixes aria-label="Key bugfixes">Key bugfixes</a><ul><li><a href=#certificate-and-proxy-options-are-used-for-build-dependencies aria-label="Certificate and proxy options are used for build dependencies">Certificate and proxy options are used for build dependencies</a></li></ul></li><li><a href=#faster-package-candidate-collection aria-label="Faster package candidate collection">Faster package candidate collection</a></li><li><a href=#upcoming-removals aria-label="Upcoming removals">Upcoming removals</a></li></ul></div></details></div><div class=post-content><p>On January 26, 2025, <a href=https://discuss.python.org/t/announcement-pip-25-0-release/78392 target=_blank>the pip team released pip 25.0</a>.</p><p>Before delving into the key changes, I&rsquo;d like to mention that the pip project has two new
maintainers: <a href=https://github.com/notatallshaw target=_blank>Damian Shaw</a> and Richard Si (that&rsquo;s me!). I want to thank the pip core team
for entrusting me with the commit bit on such a foundational project like pip.</p><p>Also, this is the first release cut from a GitHub Actions CI/CD workflow that implements
<a href=https://docs.pypi.org/trusted-publishers/ target=_blank>Trusted Publishing</a> and bundles <a href=https://peps.python.org/pep-0740/ target=_blank>PEP 740 digital attestations</a>.</p><p>As always, please read the <a href=https://pip.pypa.io/en/latest/news/#v25-0 target=_blank>changelog</a> for the full list of changes.</p><h2 id=key-features>Key features<a hidden class=anchor aria-hidden=true href=#key-features>#</a></h2><h3 id=pep-639-spdx-license-expressions>PEP 639: SPDX License Expressions<a hidden class=anchor aria-hidden=true href=#pep-639-spdx-license-expressions>#</a></h3><p>About 5 months ago,
<a href=https://peps.python.org/pep-0639/ target=_blank>PEP 639 – Improving License Clarity with Better Package Metadata</a> was approved.</p><p>It added the <code>License-Expression</code> core metadata field, which is mandated to contain a
valid <a href=https://spdx.github.io/spdx-spec/v2.2.2/SPDX-license-expressions/ target=_blank>SPDX expression</a>. In addition, there is now a multi-use <code>License-File</code> field so
packages can declare the path to their licensing-related files.</p><link rel=stylesheet href=/css/vendors/admonitions.5c73bad2903e7d2d44ad118370ebd8c2cf5f239d4d93c283e55c00f2f8d30746.css integrity="sha256-XHO60pA+fS1ErRGDcOvYws9fI51Nk8KD5VwA8vjTB0Y=" crossorigin=anonymous><div class="admonition warning"><div class=admonition-header><svg viewBox="0 0 512 512"><path d="M256 32c14.2.0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7.2 40.1S486.3 480 472 480H40c-14.3.0-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3.0-24 10.7-24 24v112c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 10-64 0 32 32 0 1064 0z"/></svg>
<span>Warning</span></div><div class=admonition-content><p>The old free-form <code>License</code> field and license classifiers are <strong>deprecated</strong>, although
there are no current plans to remove them from the metadata specification.</p></div></div><p>It took a few months, but it is now generally supported by build backends, publishing
tools, and PyPI. With this release, <code>pip show</code> will display the <code>License-Expression</code> over
the <code>License</code> field when available.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-console data-lang=console><span style=display:flex><span>$ pip install prettytable<span style=color:#f92672>==</span>3.13.0
</span></span><span style=display:flex><span>$ pip show prettytable
</span></span><span style=display:flex><span>Name: prettytable
</span></span><span style=display:flex><span>Version: 3.13.0
</span></span><span style=display:flex><span>Summary: A simple Python library for easily displaying tabular data in a visually appealing ASCII table format
</span></span><span style=display:flex><span>Home-page: https://github.com/prettytable/prettytable
</span></span><span style=display:flex><span>Author:
</span></span><span style=display:flex><span>Author-email: Luke Maurits &lt;luke@maurits.id.au&gt;
</span></span><span style=display:flex;background-color:#3c3d38><span>License-Expression: BSD-3-Clause
</span></span><span style=display:flex><span>Location: /home/ichard26/.local/lib/python3.12/site-packages
</span></span><span style=display:flex><span>Requires: wcwidth
</span></span><span style=display:flex><span>Required-by:
</span></span></code></pre></div><p>Furthermore, the <code>License-Expression</code> and <code>License-File</code> fields are included in the JSON
report emitted by <code>pip install --report</code> and <code>pip inspect</code>.</p><p>Thank you Philippe Ombredanne, C.A.M. Gerlach, and Karolina Surma for authoring the PEP!
Doubly so to Karolina who drove the PEP to completion and contributed part of pip&rsquo;s
implementation.</p><h3 id=network-cache-inherits-permissions-from-root-cache-directory>Network cache inherits permissions from root cache directory<a hidden class=anchor aria-hidden=true href=#network-cache-inherits-permissions-from-root-cache-directory>#</a></h3><p>It&rsquo;s easiest to explain this change by <a href=https://github.com/pypa/pip/issues/11012 target=_blank>quoting the original issue</a>:</p><blockquote><p>On a shared Linux system, we want to share pip&rsquo;s cache between multiple users, so
packages are not downloaded 50 times when 50 users install the same package.</p></blockquote><p>Problem is that pip would set the permissions for network cache entries so that the user
running pip is the sole user able to access them. This wasn&rsquo;t intentional, but a byproduct
of <code>tempfile.NamedTemporaryFile</code>.</p><p>Now, pip will update the entries&rsquo; permissions to inherit the read/write permissions set on
the root cache directory. Thus, if the root cache directory is accessible by other users,
those users will be able to use any entries added later.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> Thank you to Justin
van Heek for contributing this improvement!</p><h2 id=key-bugfixes>Key bugfixes<a hidden class=anchor aria-hidden=true href=#key-bugfixes>#</a></h2><p>First off, here&rsquo;s a rapid-fire list of smaller, but still noteworthy bugfixes:</p><ul><li><p><strong>Fix a security bug allowing a specially crafted wheel to execute code during
installation.</strong></p><p><a href=https://github.com/pypa/pip/issues/13079 target=_blank>You should read this issue</a> for all of the details, but essentially, a deferred
import of pip&rsquo;s self check could be abused to run arbitrary code at the end of the
<em>same</em> pip install. Reported and fixed by Caleb Brown.</p></li><li><p><strong>The inclusion of <a href=https://packaging.pypa.io/en/stable/ target=_blank>packaging</a> 24.2 changes how pre-release specifiers with <code>&lt;</code> and <code>></code>
behave.</strong></p><p>Including a pre-release version with these specifiers now implies accepting pre-releases
(e.g., <code>&lt;2.0dev</code> can include <code>1.0rc1</code>). To avoid implying pre-releases, avoid specifying
them (e.g., use <code>&lt;2.0</code>). The exception is <code>!=</code>, which never implies pre-releases.</p></li></ul><h3 id=certificate-and-proxy-options-are-used-for-build-dependencies>Certificate and proxy options are used for build dependencies<a hidden class=anchor aria-hidden=true href=#certificate-and-proxy-options-are-used-for-build-dependencies>#</a></h3><p>When pip needs to build a project for installation or metadata<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>, pip
by default sets up an isolated environment to install the build backend and its
dependencies in. These build dependencies are installed by calling pip recursively in a
subprocess.</p><p>Unfortunately, the <code>--cert</code>, <code>--client-cert</code>, and <code>--proxy</code> options were not passed down
to the pip subprocesses. However, <code>--index</code> always<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup> has been, resulting in the
common problem where pip tries to install build dependencies from a private index that
uses a custom certificate&mldr; that <em>it can&rsquo;t verify</em>.</p><p>Before pip 25.0, the workaround was to use environment variables (e.g., <code>PIP_CERT</code>) as
those are passed down to the subprocess by the OS. <strong>This is no longer necessary.</strong></p><p>The <code>--proxy</code> patch was authored in part by Luis Carlos. Thanks!</p><div class="admonition warning"><div class=admonition-header><svg viewBox="0 0 512 512"><path d="M256 32c14.2.0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7.2 40.1S486.3 480 472 480H40c-14.3.0-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3.0-24 10.7-24 24v112c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 10-64 0 32 32 0 1064 0z"/></svg>
<span>Truststore regression</span></div><div class=admonition-content><p>While fixing this, <a href=https://github.com/pypa/pip/issues/13186 target=_blank>truststore was inadvertently disabled</a> while installing build
dependencies. Truststore enables system CAs to work without any configuration. This will be fixed in an upcoming
pip 25.0.1 bugfix release.</p></div></div><div class="admonition memo"><div class=admonition-header><svg viewBox="0 0 384 512"><path d="M64 0C28.7.0.0 28.7.0 64V448c0 35.3 28.7 64 64 64h256c35.3.0 64-28.7 64-64V160H256c-17.7.0-32-14.3-32-32V0H64zM256 0v128h128L256 0zM112 256h160c8.8.0 16 7.2 16 16s-7.2 16-16 16H112c-8.8.0-16-7.2-16-16s7.2-16 16-16zm0 64h160c8.8.0 16 7.2 16 16s-7.2 16-16 16H112c-8.8.0-16-7.2-16-16s7.2-16 16-16zm0 64h160c8.8.0 16 7.2 16 16s-7.2 16-16 16H112c-8.8.0-16-7.2-16-16s7.2-16 16-16z"/></svg>
<span>&ldquo;that seems silly!&rdquo;</span></div><div class=admonition-content><p>Admittedly, the whole &ldquo;pip calling itself&rdquo; logic is not
ideal. There is a performance penalty to starting a new pip process, numerous bugs,
unexpected behaviour caused by forgetting to pass enough state (i.e. pip flags), and the
error reporting is abysmal.</p><p><a href=https://github.com/pypa/pip/issues/9081 target=_blank>We would like to pay down the debt that has accumulated here</a>, but installing
build dependencies in-process is likely to require substantial refactoring as the
codebase was not designed w/ repeated resolve-download-install cycles in mind.</p></div></div><h2 id=faster-package-candidate-collection>Faster package candidate collection<a hidden class=anchor aria-hidden=true href=#faster-package-candidate-collection>#</a></h2><p>When pip initially fetches the list of distributions available for each package, it needs
to parse the <a href=https://packaging.python.org/en/latest/specifications/simple-repository-api/ target=_blank>HTML or JSON returned by the index</a> and filter out the
distributions that obviously aren&rsquo;t supported by the current platform.</p><p>This release eliminated redundant URL parsing and similar processing, especially for
indices which serve absolute URLs to their distribution files (e.g., PyPI). Furthermore,
<code>requires-python</code> checks are cached.</p><p>The URL processing and <code>requires-python</code> checks are fast individually, but they add up
once you start to use packages with hundreds of releases and thousands of distributions. A
good example is setuptools. It has ~1500 different distributions that could be eligible
for installation, leading to a fair bit of overhead:</p><table><thead><tr><th><code>pip install setuptools --dry-run</code></th><th>pip 24.3.1</th><th>pip 25.0</th></tr></thead><tbody><tr><td>Index page parsing</td><td>90ms</td><td>45ms</td></tr><tr><td>Candidate evaluation</td><td>130ms</td><td>30ms</td></tr></tbody></table><p>Obviously the network overhead usually dominates in practice, but this is still a good
improvement! And since setuptools is a common backend, this makes the build environment
setup phase of installing from source just a bit faster for many projects. 🏎️</p><h2 id=upcoming-removals>Upcoming removals<a hidden class=anchor aria-hidden=true href=#upcoming-removals>#</a></h2><p>Finally, here is a list of deprecations currently scheduled for removal in pip 25.1 (Q2
2025). As always, this schedule is subject to change. <strong>Any given removal may be pushed to
a future release as needed.</strong></p><dl><dt>Legacy (setup.py) editable installs <em>Deprecated since pip 24.2</em></dt><dd>I&rsquo;ve already said enough on this deprecation, so I&rsquo;m going to simply ask that you read
<a href=https://github.com/pypa/pip/issues/11457 target=_blank>the deprecation issue for information and advice</a>. This was originally
scheduled for removal in 25.0, but it got pushed back as the removal wasn&rsquo;t finished in
time.</dd><dt>Legacy installed .egg distributions <em>Deprecated since pip 23.2</em></dt><dd>(<a href=https://github.com/pypa/pip/issues/12330 target=_blank>#12330</a>) On Python 3.11 or later, support for detecting and uninstalling installed
<code>.egg</code> distributions is deprecated. Eggs are the legacy format used to record installed
distributions. It has been long since replaced by <a href=https://packaging.python.org/en/latest/specifications/recording-installed-packages/ target=_blank><code>.dist-info</code></a>. Today, they&rsquo;re most
often the product of using <code>setup.py install</code>. The recommended solution is to reinstall
the distribution using a recent pip. FWIW, this removal has been pushed back several
times.</dd><dt>Non-bare project name in egg fragment <em>Deprecated since pip 23.0</em></dt><dd>(<a href=https://github.com/pypa/pip/issues/13157 target=_blank>#13157</a>) If you&rsquo;re ever seen <code>#egg=mypkg</code> at the end of an URL requirement, that&rsquo;s
called an egg fragment. It&rsquo;s the old syntax used to tell pip what project the URL is
for. They&rsquo;ve been largely replaced by the standardized <a href=https://packaging.python.org/en/latest/specifications/version-specifiers/#direct-references target=_blank>Direct URLs references</a>. When
egg fragments were initially added, they were meant to only contain the project name.
You can technically put a version specifier in the fragment, but pip won&rsquo;t respect it.
To avoid confusion, anything but a bare project name is deprecated. However, the removal
is blocked on adding support for requesting extras via the Direct URL syntax for VCS
references.</dd><dt>Non-standard wheel filenames <em>Deprecated since pip 24.3</em></dt><dd>(<a href=https://github.com/pypa/pip/issues/12938 target=_blank>#12938</a>) For historical reasons, pip does its own parsing of wheel filenames. We&rsquo;d
like to replace this with the reference parser in <a href=https://packaging.pypa.io/en/stable/ target=_blank>packaging</a>. The side-effect is that
wheels that violate the <a href=https://packaging.python.org/en/latest/specifications/binary-distribution-format/#file-name-convention target=_blank>wheel filename specification</a> are now rejected. Unless you use
old packaging tooling or play shenanigans with your project name or wheel filenames, you
shouldn&rsquo;t be affected.</dd><dt>-​-no-python-version-warning <em>Deprecated since pip 25.0</em></dt><dd>(<a href=https://github.com/pypa/pip/issues/13154 target=_blank>#13154</a>) The flag has long done nothing since Python 2 support was removed in pip
21.0. pip has also never warned about deprecations of any other Python version as the
flag&rsquo;s help suggests.</dd></dl><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>As long as the package&rsquo;s metadata version is 2.4 or higher. There was a bit of a
kerfuffle as PEP 639 was implemented by certain backends before being accepted, thus
they generated distributions without metadata 2.4 declared (because it didn&rsquo;t exist
before approval). This is technically invalid, and pip wishes to enforce specification
compliance.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Of course, this doesn&rsquo;t help with old cache entries with the overly restrictive
permissions. Plus, everyone must be using pip 25.0 or else there will be a mix of
entries with the right and overly restrictive permissions, rendering the shared cache
useless.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>For example, during dependency resolution, pip may need to build metadata so it knows
what requirements <code>mypkg</code> needs. Building a wheel and inspecting its metadata is a
valid approach, but PEP 517 allows pip to ask a backend for only metadata.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>Maybe not always, but definitely for a long time.&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://ichard26.github.io/tags/pip/>Pip</a></li><li><a href=https://ichard26.github.io/tags/release/>Release</a></li></ul><nav class=paginav><a class=prev href=https://ichard26.github.io/blog/2025/03/faster-pip-ci-on-windows-d-drive/><span class=title>« Newer</span><br><span>Speeding up pip's Windows CI by setting TEMP to the D: drive</span>
</a><a class=next href=https://ichard26.github.io/blog/2024/11/whats-new-in-pip-24.3/><span class=title>Older »</span><br><span>What's new in pip 24.3</span></a></nav></footer></article></main><footer class=footer><span>© 2022-present, Richard Si</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>